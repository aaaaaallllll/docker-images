import{p as B,ad as V,a0 as Fe,X as Y,Z as X,aj as we,ab as ke,U as xe,$ as q,i as h,e as Ne,ay as _e,Y as Ye,f as Se,z as Xe,aa as Ge,c as C,o as m,j as g,F as Q,a as N,k as b,h as o,r as U,a1 as I,w as $,a9 as W,az as Ce,b as Je,a2 as Ze,aA as je,t as _,n as Ee,af as Ie}from"./GaqLCkkq.js";import{e as ee,f as qe,j as Qe,u as et}from"./CUzktWN0.js";import{i as tt,b as ot,m as nt,d as at,e as st,a as A}from"./DXuzHcbY.js";import{b as rt,v as te,u as ze,G as lt,V as it,H as ut,I as ct,z as dt,_ as pt,w as ft}from"./CgpGLtLn.js";class vt extends Error{constructor(a){super(a),this.name="ElementPlusError"}}function Bt(t,a){throw new vt(`[${t}] ${a}`)}function Lt(t,a){}const Mt=function(t){return!!/^1[3|4|5|6|7|8|9]\d{9}$/.test(t)},oe=t=>{if(t==null||typeof t!="object")return t;if(t instanceof Date){let a=new Date;return a.setTime(t.getTime()),a}if(t instanceof Array){let a=[];for(let s=0,n=t.length;s<n;++s)a[s]=oe(t[s]);return a}if(t instanceof Object){let a={};for(let s in t)t.hasOwnProperty(s)&&(a[s]=oe(t[s]));return a}throw new Error("Unable to copy obj! Its type isn't supported.")},Ht=function(t,a,s="."){if(!t)return;const n=a.split(s);let l=oe(t);for(let u=0;u<n.length;u++)n[u]&&(l=l[n[u]]);return l},Dt={getSession:t=>{let a=window.sessionStorage.getItem(t);if(!a)return"";try{a=JSON.parse(a)}catch{return""}return a},setSession:(t,a)=>{window.sessionStorage.setItem(t,JSON.stringify(a))},removeSession:t=>{window.sessionStorage.removeItem(t)},clearSession:()=>{window.sessionStorage.clear()}},mt=t=>t,ht=t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t);function gt({afterComposition:t,emit:a}){const s=B(!1),n=i=>{a==null||a("compositionstart",i),s.value=!0},l=i=>{var d;a==null||a("compositionupdate",i);const w=(d=i.target)==null?void 0:d.value,f=w[w.length-1]||"";s.value=!ht(f)},u=i=>{a==null||a("compositionend",i),s.value&&(s.value=!1,V(()=>t(i)))};return{isComposing:s,handleComposition:i=>{i.type==="compositionend"?u(i):l(i)},handleCompositionStart:n,handleCompositionUpdate:l,handleCompositionEnd:u}}function yt(t,{beforeFocus:a,afterFocus:s,beforeBlur:n,afterBlur:l}={}){const u=Fe(),{emit:c}=u,i=Y(),d=B(!1),w=v=>{we(a)&&a(v)||d.value||(d.value=!0,c("focus",v),s==null||s())},f=v=>{var x;we(n)&&n(v)||v.relatedTarget&&((x=i.value)!=null&&x.contains(v.relatedTarget))||(d.value=!1,c("blur",v),l==null||l())},y=()=>{var v,x;(v=i.value)!=null&&v.contains(document.activeElement)&&i.value!==document.activeElement||(x=t.value)==null||x.focus()};return X(i,v=>{v&&v.setAttribute("tabindex","-1")}),ee(i,"focus",w,!0),ee(i,"blur",f,!0),ee(i,"click",y,!0),{isFocused:d,wrapperRef:i,handleFocus:w,handleBlur:f}}const ne="update:modelValue",Kt="change",bt=()=>ke&&/firefox/i.test(window.navigator.userAgent);let S;const wt={height:"0",visibility:"hidden",overflow:bt()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},xt=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function St(t){const a=window.getComputedStyle(t),s=a.getPropertyValue("box-sizing"),n=Number.parseFloat(a.getPropertyValue("padding-bottom"))+Number.parseFloat(a.getPropertyValue("padding-top")),l=Number.parseFloat(a.getPropertyValue("border-bottom-width"))+Number.parseFloat(a.getPropertyValue("border-top-width"));return{contextStyle:xt.map(c=>[c,a.getPropertyValue(c)]),paddingSize:n,borderSize:l,boxSizing:s}}function Pe(t,a=1,s){var n;S||(S=document.createElement("textarea"),document.body.appendChild(S));const{paddingSize:l,borderSize:u,boxSizing:c,contextStyle:i}=St(t);i.forEach(([y,v])=>S==null?void 0:S.style.setProperty(y,v)),Object.entries(wt).forEach(([y,v])=>S==null?void 0:S.style.setProperty(y,v,"important")),S.value=t.value||t.placeholder||"";let d=S.scrollHeight;const w={};c==="border-box"?d=d+u:c==="content-box"&&(d=d-l),S.value="";const f=S.scrollHeight-l;if(xe(a)){let y=f*a;c==="border-box"&&(y=y+l+u),d=Math.max(y,d),w.minHeight=`${y}px`}if(xe(s)){let y=f*s;c==="border-box"&&(y=y+l+u),d=Math.min(y,d)}return w.height=`${d}px`,(n=S.parentNode)==null||n.removeChild(S),S=void 0,w}const Ct=rt({id:{type:String,default:void 0},size:tt,disabled:Boolean,modelValue:{type:te([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:te([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:ze},prefixIcon:{type:ze},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:te([Object,Array,String]),default:()=>mt({})},autofocus:Boolean,rows:{type:Number,default:2},...qe(["ariaLabel"])}),Et={[ne]:t=>q(t),input:t=>q(t),change:t=>q(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},It=["class","style"],zt=/^on[A-Z]/,Pt=(t={})=>{const{excludeListeners:a=!1,excludeKeys:s}=t,n=h(()=>((s==null?void 0:s.value)||[]).concat(It)),l=Fe();return l?h(()=>{var u;return lt(Object.entries((u=l.proxy)==null?void 0:u.$attrs).filter(([c])=>!n.value.includes(c)&&!(a&&zt.test(c))))}):h(()=>({}))};function Ft(t){let a;function s(){if(t.value==null)return;const{selectionStart:l,selectionEnd:u,value:c}=t.value;if(l==null||u==null)return;const i=c.slice(0,Math.max(0,l)),d=c.slice(Math.max(0,u));a={selectionStart:l,selectionEnd:u,value:c,beforeTxt:i,afterTxt:d}}function n(){if(t.value==null||a==null)return;const{value:l}=t.value,{beforeTxt:u,afterTxt:c,selectionStart:i}=a;if(u==null||c==null||i==null)return;let d=l.length;if(l.endsWith(c))d=l.length-c.length;else if(l.startsWith(u))d=u.length;else{const w=u[i-1],f=l.indexOf(w,i-1);f!==-1&&(d=f+1)}t.value.setSelectionRange(d,d)}return[s,n]}const kt=Ne({name:"ElInput",inheritAttrs:!1}),Nt=Ne({...kt,props:Ct,emits:Et,setup(t,{expose:a,emit:s}){const n=t,l=_e(),u=Pt(),c=Ye(),i=h(()=>[n.type==="textarea"?ae.b():r.b(),r.m(v.value),r.is("disabled",x.value),r.is("exceed",Ae.value),{[r.b("group")]:c.prepend||c.append,[r.m("prefix")]:c.prefix||n.prefixIcon,[r.m("suffix")]:c.suffix||n.suffixIcon||n.clearable||n.showPassword,[r.bm("suffix","password-clear")]:K.value&&J.value,[r.b("hidden")]:n.type==="hidden"},l.class]),d=h(()=>[r.e("wrapper"),r.is("focus",D.value)]),{form:w,formItem:f}=at(),{inputId:y}=st(n,{formItemContext:f}),v=ot(),x=nt(),r=Se("input"),ae=Se("textarea"),L=Y(),E=Y(),G=B(!1),M=B(!1),se=B(),H=Y(n.inputStyle),P=h(()=>L.value||E.value),{wrapperRef:Ve,isFocused:D,handleFocus:Te,handleBlur:Oe}=yt(P,{beforeFocus(){return x.value},afterBlur(){var e;n.validateEvent&&((e=f==null?void 0:f.validate)==null||e.call(f,"blur").catch(p=>void 0))}}),re=h(()=>{var e;return(e=w==null?void 0:w.statusIcon)!=null?e:!1}),T=h(()=>(f==null?void 0:f.validateState)||""),le=h(()=>T.value&&it[T.value]),Re=h(()=>M.value?ut:ct),$e=h(()=>[l.style]),ie=h(()=>[n.inputStyle,H.value,{resize:n.resize}]),z=h(()=>Qe(n.modelValue)?"":String(n.modelValue)),K=h(()=>n.clearable&&!x.value&&!n.readonly&&!!z.value&&(D.value||G.value)),J=h(()=>n.showPassword&&!x.value&&!!z.value&&(!!z.value||D.value)),F=h(()=>n.showWordLimit&&!!n.maxlength&&(n.type==="text"||n.type==="textarea")&&!x.value&&!n.readonly&&!n.showPassword),Z=h(()=>z.value.length),Ae=h(()=>!!F.value&&Z.value>Number(n.maxlength)),Be=h(()=>!!c.suffix||!!n.suffixIcon||K.value||n.showPassword||F.value||!!T.value&&re.value),[ue,ce]=Ft(L);et(E,e=>{if(Le(),!F.value||n.resize!=="both")return;const p=e[0],{width:k}=p.contentRect;se.value={right:`calc(100% - ${k+15+6}px)`}});const O=()=>{const{type:e,autosize:p}=n;if(!(!ke||e!=="textarea"||!E.value))if(p){const k=Ie(p)?p.minRows:void 0,ye=Ie(p)?p.maxRows:void 0,be=Pe(E.value,k,ye);H.value={overflowY:"hidden",...be},V(()=>{E.value.offsetHeight,H.value=be})}else H.value={minHeight:Pe(E.value).minHeight}},Le=(e=>{let p=!1;return()=>{var k;if(p||!n.autosize)return;((k=E.value)==null?void 0:k.offsetParent)===null||(e(),p=!0)}})(O),R=()=>{const e=P.value,p=n.formatter?n.formatter(z.value):z.value;!e||e.value===p||(e.value=p)},j=async e=>{ue();let{value:p}=e.target;if(n.formatter&&n.parser&&(p=n.parser(p)),!pe.value){if(p===z.value){R();return}s(ne,p),s("input",p),await V(),R(),ce()}},de=e=>{let{value:p}=e.target;n.formatter&&n.parser&&(p=n.parser(p)),s("change",p)},{isComposing:pe,handleCompositionStart:fe,handleCompositionUpdate:ve,handleCompositionEnd:me}=gt({emit:s,afterComposition:j}),Me=()=>{ue(),M.value=!M.value,setTimeout(ce)},He=()=>{var e;return(e=P.value)==null?void 0:e.focus()},De=()=>{var e;return(e=P.value)==null?void 0:e.blur()},Ke=e=>{G.value=!1,s("mouseleave",e)},Ue=e=>{G.value=!0,s("mouseenter",e)},he=e=>{s("keydown",e)},We=()=>{var e;(e=P.value)==null||e.select()},ge=()=>{s(ne,""),s("change",""),s("clear"),s("input","")};return X(()=>n.modelValue,()=>{var e;V(()=>O()),n.validateEvent&&((e=f==null?void 0:f.validate)==null||e.call(f,"change").catch(p=>void 0))}),X(z,()=>R()),X(()=>n.type,async()=>{await V(),R(),O()}),Xe(()=>{!n.formatter&&n.parser,R(),V(O)}),a({input:L,textarea:E,ref:P,textareaStyle:ie,autosize:Ge(n,"autosize"),isComposing:pe,focus:He,blur:De,select:We,clear:ge,resizeTextarea:O}),(e,p)=>(m(),C("div",{class:b([o(i),{[o(r).bm("group","append")]:e.$slots.append,[o(r).bm("group","prepend")]:e.$slots.prepend}]),style:Ee(o($e)),onMouseenter:Ue,onMouseleave:Ke},[g(" input "),e.type!=="textarea"?(m(),C(Q,{key:0},[g(" prepend slot "),e.$slots.prepend?(m(),C("div",{key:0,class:b(o(r).be("group","prepend"))},[U(e.$slots,"prepend")],2)):g("v-if",!0),N("div",{ref_key:"wrapperRef",ref:Ve,class:b(o(d))},[g(" prefix slot "),e.$slots.prefix||e.prefixIcon?(m(),C("span",{key:0,class:b(o(r).e("prefix"))},[N("span",{class:b(o(r).e("prefix-inner"))},[U(e.$slots,"prefix"),e.prefixIcon?(m(),I(o(A),{key:0,class:b(o(r).e("icon"))},{default:$(()=>[(m(),I(W(e.prefixIcon)))]),_:1},8,["class"])):g("v-if",!0)],2)],2)):g("v-if",!0),N("input",Ce({id:o(y),ref_key:"input",ref:L,class:o(r).e("inner")},o(u),{minlength:e.minlength,maxlength:e.maxlength,type:e.showPassword?M.value?"text":"password":e.type,disabled:o(x),readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.ariaLabel,placeholder:e.placeholder,style:e.inputStyle,form:e.form,autofocus:e.autofocus,role:e.containerRole,onCompositionstart:o(fe),onCompositionupdate:o(ve),onCompositionend:o(me),onInput:j,onChange:de,onKeydown:he}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),g(" suffix slot "),o(Be)?(m(),C("span",{key:1,class:b(o(r).e("suffix"))},[N("span",{class:b(o(r).e("suffix-inner"))},[!o(K)||!o(J)||!o(F)?(m(),C(Q,{key:0},[U(e.$slots,"suffix"),e.suffixIcon?(m(),I(o(A),{key:0,class:b(o(r).e("icon"))},{default:$(()=>[(m(),I(W(e.suffixIcon)))]),_:1},8,["class"])):g("v-if",!0)],64)):g("v-if",!0),o(K)?(m(),I(o(A),{key:1,class:b([o(r).e("icon"),o(r).e("clear")]),onMousedown:Ze(o(je),["prevent"]),onClick:ge},{default:$(()=>[Je(o(dt))]),_:1},8,["class","onMousedown"])):g("v-if",!0),o(J)?(m(),I(o(A),{key:2,class:b([o(r).e("icon"),o(r).e("password")]),onClick:Me},{default:$(()=>[(m(),I(W(o(Re))))]),_:1},8,["class"])):g("v-if",!0),o(F)?(m(),C("span",{key:3,class:b(o(r).e("count"))},[N("span",{class:b(o(r).e("count-inner"))},_(o(Z))+" / "+_(e.maxlength),3)],2)):g("v-if",!0),o(T)&&o(le)&&o(re)?(m(),I(o(A),{key:4,class:b([o(r).e("icon"),o(r).e("validateIcon"),o(r).is("loading",o(T)==="validating")])},{default:$(()=>[(m(),I(W(o(le))))]),_:1},8,["class"])):g("v-if",!0)],2)],2)):g("v-if",!0)],2),g(" append slot "),e.$slots.append?(m(),C("div",{key:1,class:b(o(r).be("group","append"))},[U(e.$slots,"append")],2)):g("v-if",!0)],64)):(m(),C(Q,{key:1},[g(" textarea "),N("textarea",Ce({id:o(y),ref_key:"textarea",ref:E,class:[o(ae).e("inner"),o(r).is("focus",o(D))]},o(u),{minlength:e.minlength,maxlength:e.maxlength,tabindex:e.tabindex,disabled:o(x),readonly:e.readonly,autocomplete:e.autocomplete,style:o(ie),"aria-label":e.ariaLabel,placeholder:e.placeholder,form:e.form,autofocus:e.autofocus,rows:e.rows,role:e.containerRole,onCompositionstart:o(fe),onCompositionupdate:o(ve),onCompositionend:o(me),onInput:j,onFocus:o(Te),onBlur:o(Oe),onChange:de,onKeydown:he}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),o(F)?(m(),C("span",{key:0,style:Ee(se.value),class:b(o(r).e("count"))},_(o(Z))+" / "+_(e.maxlength),7)):g("v-if",!0)],64))],38))}});var Vt=pt(Nt,[["__file","input.vue"]]);const Ut=ft(Vt);export{Kt as C,Ut as E,Dt as S,ne as U,yt as a,oe as c,Lt as d,Mt as i,mt as m,Ht as p,Bt as t,gt as u};
