import{a9 as Fe,T as we,_ as Q,i as h,$ as Pe,W as Y,p as O,Y as X,ad as xe,ak as V,e as Te,al as _e,X as Ye,f as Ce,z as Xe,am as Ze,c as S,o as m,j as y,F as j,a as T,k as b,h as t,r as W,a0 as I,w as L,ab as U,an as Se,b as qe,a1 as Ge,ao as Je,t as _,n as Ee,ap as Ie}from"./DaInR7jQ.js";import{b as Qe,a as ee,i as je,u as et}from"./CmOpyI9W.js";import{c as tt,d as ot,e as nt,f as at,g as st,a as M}from"./BYvQTesV.js";import{b as lt,g as te,h as ze,l as it,V as rt,v as ut,m as ct,n as dt,_ as pt,w as ft}from"./DZnGEw9Y.js";const vt=o=>o,Mt=function(o){return!!/^1[3|4|5|6|7|8|9]\d{9}$/.test(o)},oe=o=>{if(o==null||typeof o!="object")return o;if(o instanceof Date){let s=new Date;return s.setTime(o.getTime()),s}if(o instanceof Array){let s=[];for(let a=0,n=o.length;a<n;++a)s[a]=oe(o[a]);return s}if(o instanceof Object){let s={};for(let a in o)o.hasOwnProperty(a)&&(s[a]=oe(o[a]));return s}throw new Error("Unable to copy obj! Its type isn't supported.")},Ot=function(o,s,a="."){if(!o)return;const n=s.split(a);let i=oe(o);for(let u=0;u<n.length;u++)n[u]&&(i=i[n[u]]);return i},mt=()=>Fe&&/firefox/i.test(window.navigator.userAgent);let C;const ht={height:"0",visibility:"hidden",overflow:mt()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},yt=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function gt(o){const s=window.getComputedStyle(o),a=s.getPropertyValue("box-sizing"),n=Number.parseFloat(s.getPropertyValue("padding-bottom"))+Number.parseFloat(s.getPropertyValue("padding-top")),i=Number.parseFloat(s.getPropertyValue("border-bottom-width"))+Number.parseFloat(s.getPropertyValue("border-top-width"));return{contextStyle:yt.map(c=>[c,s.getPropertyValue(c)]),paddingSize:n,borderSize:i,boxSizing:a}}function ke(o,s=1,a){var n;C||(C=document.createElement("textarea"),document.body.appendChild(C));const{paddingSize:i,borderSize:u,boxSizing:c,contextStyle:r}=gt(o);r.forEach(([g,v])=>C==null?void 0:C.style.setProperty(g,v)),Object.entries(ht).forEach(([g,v])=>C==null?void 0:C.style.setProperty(g,v,"important")),C.value=o.value||o.placeholder||"";let d=C.scrollHeight;const w={};c==="border-box"?d=d+u:c==="content-box"&&(d=d-i),C.value="";const f=C.scrollHeight-i;if(we(s)){let g=f*s;c==="border-box"&&(g=g+i+u),d=Math.max(g,d),w.minHeight=`${g}px`}if(we(a)){let g=f*a;c==="border-box"&&(g=g+i+u),d=Math.min(g,d)}return w.height=`${d}px`,(n=C.parentNode)==null||n.removeChild(C),C=void 0,w}const ne="update:modelValue",bt=lt({id:{type:String,default:void 0},size:tt,disabled:Boolean,modelValue:{type:te([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:te([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:ze},prefixIcon:{type:ze},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:te([Object,Array,String]),default:()=>vt({})},autofocus:Boolean,rows:{type:Number,default:2},...Qe(["ariaLabel"])}),wt={[ne]:o=>Q(o),input:o=>Q(o),change:o=>Q(o),focus:o=>o instanceof FocusEvent,blur:o=>o instanceof FocusEvent,clear:()=>!0,mouseleave:o=>o instanceof MouseEvent,mouseenter:o=>o instanceof MouseEvent,keydown:o=>o instanceof Event,compositionstart:o=>o instanceof CompositionEvent,compositionupdate:o=>o instanceof CompositionEvent,compositionend:o=>o instanceof CompositionEvent},xt=["class","style"],Ct=/^on[A-Z]/,St=(o={})=>{const{excludeListeners:s=!1,excludeKeys:a}=o,n=h(()=>((a==null?void 0:a.value)||[]).concat(xt)),i=Pe();return i?h(()=>{var u;return it(Object.entries((u=i.proxy)==null?void 0:u.$attrs).filter(([c])=>!n.value.includes(c)&&!(s&&Ct.test(c))))}):h(()=>({}))};function Et(o,{beforeFocus:s,afterFocus:a,beforeBlur:n,afterBlur:i}={}){const u=Pe(),{emit:c}=u,r=Y(),d=O(!1),w=v=>{xe(s)&&s(v)||d.value||(d.value=!0,c("focus",v),a==null||a())},f=v=>{var x;xe(n)&&n(v)||v.relatedTarget&&((x=r.value)!=null&&x.contains(v.relatedTarget))||(d.value=!1,c("blur",v),i==null||i())},g=()=>{var v,x;(v=r.value)!=null&&v.contains(document.activeElement)&&r.value!==document.activeElement||(x=o.value)==null||x.focus()};return X(r,v=>{v&&v.setAttribute("tabindex","-1")}),ee(r,"focus",w,!0),ee(r,"blur",f,!0),ee(r,"click",g,!0),{isFocused:d,wrapperRef:r,handleFocus:w,handleBlur:f}}const It=o=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(o);function zt({afterComposition:o,emit:s}){const a=O(!1),n=r=>{s==null||s("compositionstart",r),a.value=!0},i=r=>{var d;s==null||s("compositionupdate",r);const w=(d=r.target)==null?void 0:d.value,f=w[w.length-1]||"";a.value=!It(f)},u=r=>{s==null||s("compositionend",r),a.value&&(a.value=!1,V(()=>o(r)))};return{isComposing:a,handleComposition:r=>{r.type==="compositionend"?u(r):i(r)},handleCompositionStart:n,handleCompositionUpdate:i,handleCompositionEnd:u}}function kt(o){let s;function a(){if(o.value==null)return;const{selectionStart:i,selectionEnd:u,value:c}=o.value;if(i==null||u==null)return;const r=c.slice(0,Math.max(0,i)),d=c.slice(Math.max(0,u));s={selectionStart:i,selectionEnd:u,value:c,beforeTxt:r,afterTxt:d}}function n(){if(o.value==null||s==null)return;const{value:i}=o.value,{beforeTxt:u,afterTxt:c,selectionStart:r}=s;if(u==null||c==null||r==null)return;let d=i.length;if(i.endsWith(c))d=i.length-c.length;else if(i.startsWith(u))d=u.length;else{const w=u[r-1],f=i.indexOf(w,r-1);f!==-1&&(d=f+1)}o.value.setSelectionRange(d,d)}return[a,n]}const Ft=Te({name:"ElInput",inheritAttrs:!1}),Pt=Te({...Ft,props:bt,emits:wt,setup(o,{expose:s,emit:a}){const n=o,i=_e(),u=St(),c=Ye(),r=h(()=>[n.type==="textarea"?ae.b():l.b(),l.m(v.value),l.is("disabled",x.value),l.is("exceed",Me.value),{[l.b("group")]:c.prepend||c.append,[l.m("prefix")]:c.prefix||n.prefixIcon,[l.m("suffix")]:c.suffix||n.suffixIcon||n.clearable||n.showPassword,[l.bm("suffix","password-clear")]:K.value&&q.value,[l.b("hidden")]:n.type==="hidden"},i.class]),d=h(()=>[l.e("wrapper"),l.is("focus",H.value)]),{form:w,formItem:f}=at(),{inputId:g}=st(n,{formItemContext:f}),v=ot(),x=nt(),l=Ce("input"),ae=Ce("textarea"),$=Y(),E=Y(),Z=O(!1),A=O(!1),se=O(),D=Y(n.inputStyle),k=h(()=>$.value||E.value),{wrapperRef:Ve,isFocused:H,handleFocus:Ne,handleBlur:Re}=Et(k,{beforeFocus(){return x.value},afterBlur(){var e;n.validateEvent&&((e=f==null?void 0:f.validate)==null||e.call(f,"blur").catch(p=>void 0))}}),le=h(()=>{var e;return(e=w==null?void 0:w.statusIcon)!=null?e:!1}),N=h(()=>(f==null?void 0:f.validateState)||""),ie=h(()=>N.value&&rt[N.value]),Be=h(()=>A.value?ut:ct),Le=h(()=>[i.style]),re=h(()=>[n.inputStyle,D.value,{resize:n.resize}]),z=h(()=>je(n.modelValue)?"":String(n.modelValue)),K=h(()=>n.clearable&&!x.value&&!n.readonly&&!!z.value&&(H.value||Z.value)),q=h(()=>n.showPassword&&!x.value&&!!z.value&&(!!z.value||H.value)),F=h(()=>n.showWordLimit&&!!n.maxlength&&(n.type==="text"||n.type==="textarea")&&!x.value&&!n.readonly&&!n.showPassword),G=h(()=>z.value.length),Me=h(()=>!!F.value&&G.value>Number(n.maxlength)),Oe=h(()=>!!c.suffix||!!n.suffixIcon||K.value||n.showPassword||F.value||!!N.value&&le.value),[ue,ce]=kt($);et(E,e=>{if($e(),!F.value||n.resize!=="both")return;const p=e[0],{width:P}=p.contentRect;se.value={right:`calc(100% - ${P+15+6}px)`}});const R=()=>{const{type:e,autosize:p}=n;if(!(!Fe||e!=="textarea"||!E.value))if(p){const P=Ie(p)?p.minRows:void 0,ge=Ie(p)?p.maxRows:void 0,be=ke(E.value,P,ge);D.value={overflowY:"hidden",...be},V(()=>{E.value.offsetHeight,D.value=be})}else D.value={minHeight:ke(E.value).minHeight}},$e=(e=>{let p=!1;return()=>{var P;if(p||!n.autosize)return;((P=E.value)==null?void 0:P.offsetParent)===null||(e(),p=!0)}})(R),B=()=>{const e=k.value,p=n.formatter?n.formatter(z.value):z.value;!e||e.value===p||(e.value=p)},J=async e=>{ue();let{value:p}=e.target;if(n.formatter&&n.parser&&(p=n.parser(p)),!pe.value){if(p===z.value){B();return}a(ne,p),a("input",p),await V(),B(),ce()}},de=e=>{let{value:p}=e.target;n.formatter&&n.parser&&(p=n.parser(p)),a("change",p)},{isComposing:pe,handleCompositionStart:fe,handleCompositionUpdate:ve,handleCompositionEnd:me}=zt({emit:a,afterComposition:J}),Ae=()=>{ue(),A.value=!A.value,setTimeout(ce)},De=()=>{var e;return(e=k.value)==null?void 0:e.focus()},He=()=>{var e;return(e=k.value)==null?void 0:e.blur()},Ke=e=>{Z.value=!1,a("mouseleave",e)},We=e=>{Z.value=!0,a("mouseenter",e)},he=e=>{a("keydown",e)},Ue=()=>{var e;(e=k.value)==null||e.select()},ye=()=>{a(ne,""),a("change",""),a("clear"),a("input","")};return X(()=>n.modelValue,()=>{var e;V(()=>R()),n.validateEvent&&((e=f==null?void 0:f.validate)==null||e.call(f,"change").catch(p=>void 0))}),X(z,()=>B()),X(()=>n.type,async()=>{await V(),B(),R()}),Xe(()=>{!n.formatter&&n.parser,B(),V(R)}),s({input:$,textarea:E,ref:k,textareaStyle:re,autosize:Ze(n,"autosize"),isComposing:pe,focus:De,blur:He,select:Ue,clear:ye,resizeTextarea:R}),(e,p)=>(m(),S("div",{class:b([t(r),{[t(l).bm("group","append")]:e.$slots.append,[t(l).bm("group","prepend")]:e.$slots.prepend}]),style:Ee(t(Le)),onMouseenter:We,onMouseleave:Ke},[y(" input "),e.type!=="textarea"?(m(),S(j,{key:0},[y(" prepend slot "),e.$slots.prepend?(m(),S("div",{key:0,class:b(t(l).be("group","prepend"))},[W(e.$slots,"prepend")],2)):y("v-if",!0),T("div",{ref_key:"wrapperRef",ref:Ve,class:b(t(d))},[y(" prefix slot "),e.$slots.prefix||e.prefixIcon?(m(),S("span",{key:0,class:b(t(l).e("prefix"))},[T("span",{class:b(t(l).e("prefix-inner"))},[W(e.$slots,"prefix"),e.prefixIcon?(m(),I(t(M),{key:0,class:b(t(l).e("icon"))},{default:L(()=>[(m(),I(U(e.prefixIcon)))]),_:1},8,["class"])):y("v-if",!0)],2)],2)):y("v-if",!0),T("input",Se({id:t(g),ref_key:"input",ref:$,class:t(l).e("inner")},t(u),{minlength:e.minlength,maxlength:e.maxlength,type:e.showPassword?A.value?"text":"password":e.type,disabled:t(x),readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.ariaLabel,placeholder:e.placeholder,style:e.inputStyle,form:e.form,autofocus:e.autofocus,role:e.containerRole,onCompositionstart:t(fe),onCompositionupdate:t(ve),onCompositionend:t(me),onInput:J,onChange:de,onKeydown:he}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),y(" suffix slot "),t(Oe)?(m(),S("span",{key:1,class:b(t(l).e("suffix"))},[T("span",{class:b(t(l).e("suffix-inner"))},[!t(K)||!t(q)||!t(F)?(m(),S(j,{key:0},[W(e.$slots,"suffix"),e.suffixIcon?(m(),I(t(M),{key:0,class:b(t(l).e("icon"))},{default:L(()=>[(m(),I(U(e.suffixIcon)))]),_:1},8,["class"])):y("v-if",!0)],64)):y("v-if",!0),t(K)?(m(),I(t(M),{key:1,class:b([t(l).e("icon"),t(l).e("clear")]),onMousedown:Ge(t(Je),["prevent"]),onClick:ye},{default:L(()=>[qe(t(dt))]),_:1},8,["class","onMousedown"])):y("v-if",!0),t(q)?(m(),I(t(M),{key:2,class:b([t(l).e("icon"),t(l).e("password")]),onClick:Ae},{default:L(()=>[(m(),I(U(t(Be))))]),_:1},8,["class"])):y("v-if",!0),t(F)?(m(),S("span",{key:3,class:b(t(l).e("count"))},[T("span",{class:b(t(l).e("count-inner"))},_(t(G))+" / "+_(e.maxlength),3)],2)):y("v-if",!0),t(N)&&t(ie)&&t(le)?(m(),I(t(M),{key:4,class:b([t(l).e("icon"),t(l).e("validateIcon"),t(l).is("loading",t(N)==="validating")])},{default:L(()=>[(m(),I(U(t(ie))))]),_:1},8,["class"])):y("v-if",!0)],2)],2)):y("v-if",!0)],2),y(" append slot "),e.$slots.append?(m(),S("div",{key:1,class:b(t(l).be("group","append"))},[W(e.$slots,"append")],2)):y("v-if",!0)],64)):(m(),S(j,{key:1},[y(" textarea "),T("textarea",Se({id:t(g),ref_key:"textarea",ref:E,class:[t(ae).e("inner"),t(l).is("focus",t(H))]},t(u),{minlength:e.minlength,maxlength:e.maxlength,tabindex:e.tabindex,disabled:t(x),readonly:e.readonly,autocomplete:e.autocomplete,style:t(re),"aria-label":e.ariaLabel,placeholder:e.placeholder,form:e.form,autofocus:e.autofocus,rows:e.rows,role:e.containerRole,onCompositionstart:t(fe),onCompositionupdate:t(ve),onCompositionend:t(me),onInput:J,onFocus:t(Ne),onBlur:t(Re),onChange:de,onKeydown:he}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),t(F)?(m(),S("span",{key:0,style:Ee(se.value),class:b(t(l).e("count"))},_(t(G))+" / "+_(e.maxlength),7)):y("v-if",!0)],64))],38))}});var Tt=pt(Pt,[["__file","input.vue"]]);const $t=ft(Tt);export{$t as E,Mt as i,vt as m,Ot as p};
